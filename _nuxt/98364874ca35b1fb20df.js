(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{521:function(e,t,r){"use strict";r.r(t);var n={name:"ChangePassword",props:{title:{type:String,default:"Change Password"}},data:function(){return{oldPassword:"",password:"",confirmPassword:""}},computed:{authenticated:function(){return this.$store.getters["user/authenticated"]},valid:function(){return this.password&&this.password===this.confirmPassword},changepassWait:function(){return this.$store.state.user.changepassWait},changepassError:function(){return this.$store.state.user.changepassError}},methods:{cancel:function(){this.$router.push({path:"/me"})},changePass:function(){var e=this;if(this.$store.state.user.me){var t={newPassword:this.password,oldPassword:this.oldPassword};this.$store.dispatch("user/goChangepass",t).then(function(){e.$router.push({path:"/login"})})}}}},o=r(17),c={name:"UserChangePassword",middleware:"authenticated",components:{changePassword:Object(o.a)(n,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("section",{class:e.$app_config.headerHeroClasses||"hero is-primary"},[r("div",{staticClass:"hero-body"},[r("div",{staticClass:"container"},[r("h1",{staticClass:"title"},[e._v("\n          "+e._s(e.title)+"\n        ")])])])]),e._v(" "),r("section",{staticClass:"section"},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.authenticated,expression:"authenticated"}],staticClass:"container"},[r("div",{staticClass:"field"},[r("label",{staticClass:"label"},[e._v("Current Password")]),e._v(" "),r("div",{staticClass:"control"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.oldPassword,expression:"oldPassword"}],staticClass:"input",class:{"is-danger":!e.oldPassword},attrs:{type:"password"},domProps:{value:e.oldPassword},on:{input:function(t){t.target.composing||(e.oldPassword=t.target.value)}}})]),e._v(" "),r("p",{directives:[{name:"show",rawName:"v-show",value:!e.oldPassword,expression:"!oldPassword"}],staticClass:"help is-danger"},[e._v("\n          Current password is required\n        ")])]),e._v(" "),r("div",{staticClass:"field"},[r("label",{staticClass:"label"},[e._v("New Password")]),e._v(" "),r("div",{staticClass:"control"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"input",class:{"is-danger":!e.password},attrs:{type:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),r("p",{directives:[{name:"show",rawName:"v-show",value:!e.password,expression:"!password"}],staticClass:"help is-danger"},[e._v("\n          Password is required\n        ")])]),e._v(" "),r("div",{staticClass:"field"},[r("label",{staticClass:"label"},[e._v("Confirm Password")]),e._v(" "),r("div",{staticClass:"control"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.confirmPassword,expression:"confirmPassword"}],staticClass:"input",class:{"is-danger":!e.confirmPassword||e.confirmPassword!==e.password},attrs:{type:"password"},domProps:{value:e.confirmPassword},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.changePass(t)},input:function(t){t.target.composing||(e.confirmPassword=t.target.value)}}})]),e._v(" "),r("p",{directives:[{name:"show",rawName:"v-show",value:!e.confirmPassword,expression:"!confirmPassword"}],staticClass:"help is-danger"},[e._v("\n          Password confirmation is required\n        ")]),e._v(" "),r("p",{directives:[{name:"show",rawName:"v-show",value:e.confirmPassword!==e.password,expression:"confirmPassword !== password"}],staticClass:"help is-danger"},[e._v("\n          Password and confirmation must match\n        ")])]),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.changepassError,expression:"changepassError"}],staticClass:"notification is-danger"},[e._v("\n        "+e._s(e.changepassError)+"\n      ")]),e._v(" "),r("div",{staticClass:"field is-grouped"},[r("div",{staticClass:"control"},[r("button",{staticClass:"button is-primary",attrs:{disabled:!e.valid},on:{click:e.changePass}},[r("span",{directives:[{name:"show",rawName:"v-show",value:!e.changepassWait,expression:"!changepassWait"}],staticClass:"icon"},[r("i",{staticClass:"far fa-save"})]),e._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:e.changepassWait,expression:"changepassWait"}],staticClass:"icon"},[r("i",{staticClass:"fas fa-spinner-third fa-spin"})]),e._v(" "),r("span",[e._v("Save")])])]),e._v(" "),r("div",{staticClass:"control"},[r("button",{staticClass:"button is-light",on:{click:e.cancel}},[e._m(0),e._v(" "),r("span",[e._v("Cancel")])])])])])])])},[function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"icon"},[t("i",{staticClass:"fas fa-ban"})])}],!1,null,"b4a82c12",null).exports}},d=Object(o.a)(c,function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("change-password")],1)},[],!1,null,null,null);t.default=d.exports}}]);